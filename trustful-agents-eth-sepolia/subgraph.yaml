specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: CollateralVault
    network: sepolia
    source:
      address: "0xba911c9AE66a4a6671e5964A95Af91Ba65b4493F"
      abi: CollateralVault
      startBlock: 10327001
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - CollateralLocked
        - CollateralSlashed
        - CollateralUnlocked
        - Deposited
        - EmergencyWithdrawal
        - Paused
        - PauserAdded
        - PauserRemoved
        - Unpaused
        - WithdrawalCancelled
        - WithdrawalExecuted
        - WithdrawalInitiated
      abis:
        - name: CollateralVault
          file: ./abis/CollateralVault.json
      eventHandlers:
        - event: CollateralLocked(indexed uint256,uint256,uint256)
          handler: handleCollateralLocked
        - event: CollateralSlashed(indexed uint256,uint256,indexed address,uint256)
          handler: handleCollateralSlashed
        - event: CollateralUnlocked(indexed uint256,uint256,uint256)
          handler: handleCollateralUnlocked
        - event: Deposited(indexed uint256,indexed address,uint256)
          handler: handleDeposited
        - event: EmergencyWithdrawal(indexed address,address,uint256)
          handler: handleEmergencyWithdrawal
        - event: Paused(indexed address,uint8,string)
          handler: handlePaused
        - event: PauserAdded(indexed address)
          handler: handlePauserAdded
        - event: PauserRemoved(indexed address)
          handler: handlePauserRemoved
        - event: Unpaused(indexed address,uint8)
          handler: handleUnpaused
        - event: WithdrawalCancelled(indexed uint256)
          handler: handleWithdrawalCancelled
        - event: WithdrawalExecuted(indexed uint256,indexed address,uint256)
          handler: handleWithdrawalExecuted
        - event: WithdrawalInitiated(indexed uint256,uint256,uint256)
          handler: handleWithdrawalInitiated
      file: ./src/collateral-vault.ts
  - kind: ethereum
    name: TermsRegistry
    network: sepolia
    source:
      address: "0x9553A8C080E2111BB8369EF961D1cb7191e2d795"
      abi: TermsRegistry
      startBlock: 10246026
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - TermsRegistryEmergencyWithdrawal
        - TermsRegistryPaused
        - TermsRegistryPauserAdded
        - TermsRegistryPauserRemoved
        - TermsActivated
        - TermsDeactivated
        - TermsInvalidated
        - TermsRegistered
        - TermsRegistryUnpaused
      abis:
        - name: TermsRegistry
          file: ./abis/TermsRegistry.json
      eventHandlers:
        - event: EmergencyWithdrawal(indexed address,address,uint256)
          handler: handleEmergencyWithdrawal
        - event: Paused(indexed address,uint8,string)
          handler: handlePaused
        - event: PauserAdded(indexed address)
          handler: handlePauserAdded
        - event: PauserRemoved(indexed address)
          handler: handlePauserRemoved
        - event: TermsActivated(indexed uint256,indexed uint256)
          handler: handleTermsActivated
        - event: TermsDeactivated(indexed uint256,indexed uint256)
          handler: handleTermsDeactivated
        - event: TermsInvalidated(indexed uint256,string)
          handler: handleTermsInvalidated
        - event: TermsRegistered(indexed uint256,indexed uint256,bytes32,string,bytes32)
          handler: handleTermsRegistered
        - event: Unpaused(indexed address,uint8)
          handler: handleUnpaused
      file: ./src/terms-registry.ts
